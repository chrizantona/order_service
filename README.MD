# Order Tracking System

## 📌 Описание проекта

Этот проект представляет собой  **систему трекинга заказов в реальном времени** , построенную на основе **gRPC, Kafka, PostgreSQL, Redis, WebSockets** и  **REST API** .

### 🔹 Основные возможности:

* **Создание и управление заказами** через **gRPC и REST API**
* **Обновление статуса заказа** через **Kafka** (например, "Передан курьеру")
* **Отмена заказа** с обновлением данных в системе
* **Трекинг местоположения курьера**
* **Push-уведомления клиенту** через WebSockets
* **Запрос времени доставки**
* **Автоматическое кэширование данных в Redis**
* **Интеграция с внешними API логистических сервисов (например, СДЭК)**
* **Логирование через zap**
* **Тестирование и CI/CD через GitHub Actions**

---

## ⚙️ Технологии

* **Язык:** Go
* **API:** gRPC + REST API (Gin)
* **База данных:** PostgreSQL
* **Сообщения:** Kafka (order_created, order_updated)
* **Кэширование:** Redis
* **WebSockets:** Для обновлений статусов заказов в реальном времени
* **Логирование:** zap
* **Контейнеризация:** Docker + Docker Compose
* **CI/CD:** GitHub Actions
* **Тестирование:** Unit-тесты для бизнес-логики и репозитория

---

## 📂 Структура проекта

```plaintext

├── Makefile
├── README.MD
├── cmd
│   └── main.go
├── config
│   ├── config.go
│   └── config.yaml
├── docker-compose.yml
├── go.mod
├── go.sum
├── internal
│   ├── domain
│   │   ├── models
│   │   │   └── order.go
│   │   ├── repository
│   │   │   └── order_repository.go
│   │   └── usecase
│   │       └── order_usecase.go
│   ├── grpc
│   │   ├── order_handler.go
│   │   └── server.go
│   ├── http
│   │   ├── order_handler.go
│   │   └── server.go
│   └── infrastructure
│       ├── cache
│       │   └── redis.go
│       ├── database
│       │   └── postgres.go
│       ├── messaging
│       │   ├── kafka_consumer.go
│       │   └── kafka_producer.go
│       └── websockets
│           └── websocket_handler.go
├── pkg
│   └── logger
│       └── zap_logger.go
├── proto
│   └── order.proto
└── tests
    ├── order_usecase_test.go
    └── repository_test.go

```

---

## 🚀 Установка и запуск

### 📥 **1. Клонирование репозитория**

```bash
git clone https://github.com/your-repo/order-tracking.git
cd order-tracking
```

### 🐳 **2. Запуск через Docker Compose**

```bash
docker-compose up --build
```

### 🏗 **3. Запуск вручную (локально)**

```bash
go mod tidy
go run cmd/main.go
```

---

## 📌 API Эндпоинты

### 🔹 **gRPC Методы**

* `CreateOrder()` – Создание заказа
* `GetOrder()` – Получение информации о заказе
* `GetOrders()` – Получение списка заказов
* `GetOrderStatus()` – Получение статуса заказа
* `UpdateOrderStatus()` – Обновление статуса заказа
* `TrackOrder()` – Трекинг местоположения заказа
* `CancelOrder()` – Отмена заказа
* `EstimateDelivery()` – Оценка времени доставки
* `AssignCourier()` – Назначение курьера
* `GetCourierLocation()` – Получение геопозиции курьера
* `ListCourierOrders()` – Получение заказов, назначенных курьеру
* `NotifyCustomer()` – Уведомление клиента

### 🔹 **REST API (Gin)**

* `POST /order` – Создание заказа
* `GET /order/:id` – Получение информации о заказе
* `GET /orders` – Получение списка заказов
* `GET /order/:id/status` – Получение статуса заказа
* `PATCH /order/:id/status` – Обновление статуса заказа
* `GET /order/:id/track` – Получение информации о перемещении заказа
* `DELETE /order/:id` – Отмена заказа
* `GET /order/:id/delivery-time` – Оценка времени доставки
* `POST /order/:id/assign-courier` – Назначение курьера
* `GET /courier/:id/location` – Получение геолокации курьера
* `GET /courier/:id/orders` – Получение заказов курьера
* `POST /order/:id/notify` – Уведомление клиента

---

## ✅ Критерии и баллы

**Обязательные требования (10/10):**
✅ Оформленный README *(1 балл)*
✅ Структурированный проект *(1 балл)*
✅ Документация *(3 балла)*
✅ Применение ООП (структуры, интерфейсы) *(3 балла)*
✅ Написание тестов *(3 балла)*

**Фичи и технологии (30+ баллов):**
✅ REST API *(10 баллов)*
✅ База данных PostgreSQL *(10 баллов)*
✅ Логирование через zap *(2 балла)*
✅ Работа с Docker *(5 баллов)*
✅ CI/CD *(2 балла)*
✅ Шаблон проектирования (Dependency Injection, Repository) *(10 баллов)*
✅ Многопоточность (Kafka, WebSockets) *(15 баллов)*
✅ Гибкая конфигурация *(5 баллов)*
✅ Интеграция с API логистики *(5 баллов)*
✅ WebSockets для real-time *(5 баллов)*

📌 **Итого: 40+ баллов (проект полностью соответствует требованиям)**

---

## 🛠 **Тестирование**

```bash
go test ./...
```

---

## 📜 **Лицензия**

Этот проект распространяется под лицензией  **MIT** .

---

## ✨ **Контакты**

* **Автор:** Алан
* **GitHub:** [chrizantona](https://github.com/chrizantona)
* **Telegram:** [@nnnairobi](https://t.me/nnnairobi)
